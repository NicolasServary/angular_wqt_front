import{N as d,a as c,b as m,ea as l}from"./chunk-CLLYPUBM.js";var h=class i{checkouts=l([]);constructor(){this.generateMockData(),setInterval(()=>this.updateData(),3e3)}getCheckouts(){return this.checkouts.asReadonly()}generateMockData(){let t=Date.now(),s=[];for(let n=1;n<=12;n++){let e=Math.floor(Math.random()*8);s.push({id:n,name:`Checkout ${n}`,waitingCount:e,status:Math.random()>.15?"open":"closed",estimatedWait:e>0?Math.floor(e*2.5)+2:0,lastUpdated:t,stuckTime:0})}this.checkouts.set(s)}updateData(){let t=Date.now(),n=this.checkouts().map(e=>{if(e.status==="closed")return e;let o=e.waitingCount,u=Math.random(),a;u<.35?a=Math.min(o+1,8):u<.7?a=Math.max(o-1,0):a=o;let r=e.stuckTime;a>=5&&a>=o?r+=3e3:a<o&&(r=0);let p=a>0?Math.floor(a*2.5)+2:0;return m(c({},e),{waitingCount:a,estimatedWait:p,lastUpdated:t,stuckTime:r})});this.checkouts.set(n)}getStatusClass(t){return t.status==="closed"?"closed":t.waitingCount>=10?"high":t.waitingCount>=5?"medium":"low"}getWaitingText(t){return t===0?"No queue":t===1?"1 person":`${t} people`}static \u0275fac=function(s){return new(s||i)};static \u0275prov=d({token:i,factory:i.\u0275fac,providedIn:"root"})};export{h as a};
