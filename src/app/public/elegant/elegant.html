<div class="elegant-layout" [class.collapsed]="isCollapsed">
  <!-- Elegant Luxury Sidebar -->
  <nav class="elegant-sidebar" [class.collapsed]="isCollapsed">
    <div class="sidebar-header">
      <button class="sidebar-toggle" (click)="isCollapsed = !isCollapsed">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
          <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
        </svg>
      </button>

      @if (!isCollapsed) {
        <div class="brand-section">
          <div class="brand-icon">
            <div class="icon-inner">W</div>
          </div>
          <div class="brand-info">
            <h1 class="brand-title">WQT Premium</h1>
            <p class="brand-subtitle">Elegant Interface</p>
          </div>
        </div>
      }
    </div>

    <div class="sidebar-content">
      <div class="nav-section">
        @if (!isCollapsed) {
          <h3 class="section-title">Navigation</h3>
        }

        <div class="nav-items">
          <a routerLink="/public/home" class="nav-item">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h16v2H4z"/>
              </svg>
            </div>
            @if (!isCollapsed) {
              <span class="nav-label">Classique</span>
            }
          </a>

          <a routerLink="/public/grid" class="nav-item">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 3v8h8V3H3zm6 6H5V5h4v4zm-6 4v8h8v-8H3zm6 6H5v-4h4v4zm4-16v8h8V3h-8zm6 6h-4V5h4v4zm-6 4v8h8v-8h-8zm6 6h-4v-4h4v4z"/>
              </svg>
            </div>
            @if (!isCollapsed) {
              <span class="nav-label">Grille</span>
            }
          </a>

          <a routerLink="/public/card" class="nav-item">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H5v-2h9v2zm5-4H5v-2h14v2zm0-4H5V7h14v2z"/>
              </svg>
            </div>
            @if (!isCollapsed) {
              <span class="nav-label">Cartes</span>
            }
          </a>

          <a routerLink="/public/minimal" class="nav-item">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
              </svg>
            </div>
            @if (!isCollapsed) {
              <span class="nav-label">Minimal</span>
            }
          </a>

          <a routerLink="/public/modern" class="nav-item">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 9 5.16-.74 9-4.45 9-10V7l-10-5z"/>
              </svg>
            </div>
            @if (!isCollapsed) {
              <span class="nav-label">Modern</span>
            }
          </a>

          <a routerLink="/public/compact" class="nav-item">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M9 11H7v8h2v-8zm4-4H11v12h2V7zm4-4H15v16h2V3z"/>
              </svg>
            </div>
            @if (!isCollapsed) {
              <span class="nav-label">Compact</span>
            }
          </a>

          <div class="nav-item active">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2l3.09 6.26L22 9l-5 4.87 1.18 6.88L12 17.77l-6.18 2.98L7 14.87 2 10l6.91-1.74L12 2z"/>
              </svg>
            </div>
            @if (!isCollapsed) {
              <span class="nav-label">Elegant</span>
              <div class="active-indicator"></div>
            }
          </div>

          <a routerLink="/public/industrial" class="nav-item">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8.5 8A1.5 1.5 0 0 1 10 6.5 1.5 1.5 0 0 1 8.5 8zm7 0A1.5 1.5 0 0 1 14 6.5 1.5 1.5 0 0 1 15.5 8zM12 17.5c-2.33 0-4.31-1.46-5.11-3.5h10.22c-.8 2.04-2.78 3.5-5.11 3.5z"/>
              </svg>
            </div>
            @if (!isCollapsed) {
              <span class="nav-label">Industrial</span>
            }
          </a>

          <a routerLink="/public/zen" class="nav-item">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
              </svg>
            </div>
            @if (!isCollapsed) {
              <span class="nav-label">Zen</span>
            }
          </a>

          <a routerLink="/public/dashboard" class="nav-item">
            <div class="nav-icon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
              </svg>
            </div>
            @if (!isCollapsed) {
              <span class="nav-label">Dashboard</span>
            }
          </a>
        </div>
      </div>

      @if (!isCollapsed) {
        <div class="premium-section">
          <h3 class="section-title">Status Premium</h3>
          <div class="premium-card">
            <div class="premium-icon">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2l3.09 6.26L22 9l-5 4.87 1.18 6.88L12 17.77l-6.18 2.98L7 14.87 2 10l6.91-1.74L12 2z"/>
              </svg>
            </div>
            <div class="premium-info">
              <span class="premium-title">Syst√®me Premium</span>
              <span class="premium-status">Active</span>
            </div>
          </div>
        </div>
      }
    </div>

    <div class="sidebar-footer">
      @if (!isCollapsed) {
        <div class="footer-content">
          <div class="status-indicator"></div>
          <span class="status-text">Excellence Mode</span>
        </div>
      } @else {
        <div class="status-indicator"></div>
      }
    </div>
  </nav>

  <!-- Elegant Main Content -->
  <main class="elegant-main">
    <!-- Luxury Header -->
    <header class="luxury-header">
      <div class="header-content">
        <div class="title-section">
          <h1 class="page-title">Queue Management Excellence</h1>
          <p class="page-subtitle">Premium monitoring experience</p>
        </div>

        <div class="header-controls">
          <div class="time-display">
            <div class="time-label">Current Time</div>
            <div class="time-value">{{ getCurrentTime() }}</div>
          </div>

          <div class="control-buttons">
            <button class="control-btn primary">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
              </svg>
              <span>Refresh</span>
            </button>
            <button class="control-btn secondary">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/>
              </svg>
              <span>Settings</span>
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Elegant Content -->
    <div class="content-area">
      <!-- Premium Metrics -->
      <section class="metrics-section">
        <div class="metrics-header">
          <h2 class="section-title">Performance Metrics</h2>
          <div class="metrics-indicator">Live</div>
        </div>

        <div class="metrics-grid">
          <div class="metric-card primary">
            <div class="metric-content">
              <div class="metric-value">{{ getOpenCheckouts() }}</div>
              <div class="metric-label">Active Stations</div>
              <div class="metric-change positive">+2 today</div>
            </div>
            <div class="metric-visual">
              <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19 7h-3V6a4 4 0 0 0-8 0v1H5a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1zM10 6a2 2 0 0 1 4 0v1h-4V6zm8 13a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9h2v1a1 1 0 0 0 2 0V9h4v1a1 1 0 0 0 2 0V9h2v10z"/>
              </svg>
            </div>
          </div>

          <div class="metric-card success">
            <div class="metric-content">
              <div class="metric-value">{{ getAverageWaitTime() }}<span class="unit">min</span></div>
              <div class="metric-label">Average Wait</div>
              <div class="metric-change negative">-30s today</div>
            </div>
            <div class="metric-visual">
              <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M16.2,16.2L11,13V7H12.5V12.2L17,14.9L16.2,16.2Z"/>
              </svg>
            </div>
          </div>

          <div class="metric-card excellence">
            <div class="metric-content">
              <div class="metric-value">{{ getSuccessRate() }}<span class="unit">%</span></div>
              <div class="metric-label">Success Rate</div>
              <div class="metric-change positive">+1.2% today</div>
            </div>
            <div class="metric-visual">
              <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2l3.09 6.26L22 9l-5 4.87 1.18 6.88L12 17.77l-6.18 2.98L7 14.87 2 10l6.91-1.74L12 2z"/>
              </svg>
            </div>
          </div>

          <div class="metric-card info">
            <div class="metric-content">
              <div class="metric-value">{{ getTotalWaiting() }}</div>
              <div class="metric-label">Queue Total</div>
              <div class="metric-change neutral">Stable</div>
            </div>
            <div class="metric-visual">
              <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A2.5 2.5 0 0 0 17.56 7H16c-.8 0-1.54.37-2.01.99l-2.54 3.36c-.14.18-.35.3-.59.3s-.45-.12-.59-.3L7.73 7.99C7.26 7.37 6.52 7 5.72 7H4.44c-1.22 0-2.33.86-2.4 2.08L2 16h2.5v6h3v-6H9l.5-3H12l.5 3h1.5v6h4z"/>
              </svg>
            </div>
          </div>
        </div>
      </section>

      <!-- Elegant Queue Display -->
      <section class="queue-section">
        <div class="queue-header">
          <h2 class="section-title">Premium Queue Management</h2>
          <div class="queue-summary">
            <span class="queue-count">{{ getSortedCheckouts().length }}</span>
            <span class="queue-label">Active Queues</span>
          </div>
        </div>

        <div class="elegant-queue-list">
          @for (checkout of getSortedCheckouts(); track checkout.id) {
            <div class="queue-card" [class]="getPriorityClass(checkout)">
              <div class="card-header">
                <div class="checkout-identifier">
                  <div class="checkout-number">#{{ checkout.id }}</div>
                  <div class="checkout-title">Station {{ checkout.id }}</div>
                </div>

                <div class="priority-display">
                  @switch (getPriorityClass(checkout)) {
                    @case ('critical') {
                      <div class="priority-badge critical">
                        <div class="priority-icon">
                          <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2l3.09 6.26L22 9l-5 4.87 1.18 6.88L12 17.77l-6.18 2.98L7 14.87 2 10l6.91-1.74L12 2z"/>
                          </svg>
                        </div>
                        <span>Critical</span>
                      </div>
                    }
                    @case ('urgent') {
                      <div class="priority-badge urgent">
                        <div class="priority-icon">
                          <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2l3.09 6.26L22 9l-5 4.87 1.18 6.88L12 17.77l-6.18 2.98L7 14.87 2 10l6.91-1.74L12 2z"/>
                          </svg>
                        </div>
                        <span>Urgent</span>
                      </div>
                    }
                    @default {
                      <div class="priority-badge normal">
                        <div class="priority-icon">
                          <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2l3.09 6.26L22 9l-5 4.87 1.18 6.88L12 17.77l-6.18 2.98L7 14.87 2 10l6.91-1.74L12 2z"/>
                          </svg>
                        </div>
                        <span>Normal</span>
                      </div>
                    }
                  }
                </div>
              </div>

              <div class="card-content">
                <div class="queue-info">
                  <div class="info-item">
                    <span class="info-label">Customers Waiting</span>
                    <span class="info-value">{{ checkout.waitingCount }}</span>
                  </div>
                  <div class="info-item">
                    <span class="info-label">Estimated Wait</span>
                    <span class="info-value">{{ checkout.estimatedWait }} minutes</span>
                  </div>
                </div>

                <div class="card-actions">
                  <button class="action-btn accept">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M9 16.2l-3.5-3.5c-.39-.39-1.01-.39-1.4 0-.39.39-.39 1.01 0 1.4l4.19 4.19c.39.39 1.02.39 1.41 0L20.3 7.7c.39-.39.39-1.01 0-1.4-.39-.39-1.01-.39-1.4 0L9 16.2z"/>
                    </svg>
                    <span>Accept</span>
                  </button>
                  <button class="action-btn decline">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"/>
                    </svg>
                    <span>Decline</span>
                  </button>
                  <button class="action-btn details">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    <span>Details</span>
                  </button>
                </div>
              </div>
            </div>
          }

          @if (getSortedCheckouts().length === 0) {
            <div class="empty-elegant">
              <div class="empty-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M12 2l3.09 6.26L22 9l-5 4.87 1.18 6.88L12 17.77l-6.18 2.98L7 14.87 2 10l6.91-1.74L12 2z"/>
                </svg>
              </div>
              <h3 class="empty-title">Excellence Achieved</h3>
              <p class="empty-description">All queues are operating at optimal efficiency</p>
            </div>
          }
        </div>
      </section>
    </div>
  </main>
</div>